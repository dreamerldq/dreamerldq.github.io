<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Canvas的使用 | 素妆技术博客</title>
    <meta name="description" content="技术博客，内容多以工作学习中的实践经验为主，主要侧重于前端方向">
    
    
    <link rel="preload" href="/assets/css/styles.1700d348.css" as="style"><link rel="preload" href="/assets/js/app.1700d348.js" as="script"><link rel="preload" href="/assets/js/6.6aff7983.js" as="script"><link rel="prefetch" href="/assets/js/1.a5f23d81.js"><link rel="prefetch" href="/assets/js/10.ea35f83b.js"><link rel="prefetch" href="/assets/js/11.43ee7260.js"><link rel="prefetch" href="/assets/js/12.e4255072.js"><link rel="prefetch" href="/assets/js/13.1790464a.js"><link rel="prefetch" href="/assets/js/14.8f998397.js"><link rel="prefetch" href="/assets/js/15.c504318f.js"><link rel="prefetch" href="/assets/js/16.07eedc5e.js"><link rel="prefetch" href="/assets/js/17.61192b7e.js"><link rel="prefetch" href="/assets/js/18.3b928a01.js"><link rel="prefetch" href="/assets/js/19.9f962ae5.js"><link rel="prefetch" href="/assets/js/2.58bf56ce.js"><link rel="prefetch" href="/assets/js/20.cf8c0abf.js"><link rel="prefetch" href="/assets/js/21.d3213113.js"><link rel="prefetch" href="/assets/js/22.dc22b7ce.js"><link rel="prefetch" href="/assets/js/23.98aee9d6.js"><link rel="prefetch" href="/assets/js/24.3c7c5e9a.js"><link rel="prefetch" href="/assets/js/25.72b30a79.js"><link rel="prefetch" href="/assets/js/3.98a464b0.js"><link rel="prefetch" href="/assets/js/4.6e491b29.js"><link rel="prefetch" href="/assets/js/5.3f38bc31.js"><link rel="prefetch" href="/assets/js/7.4d654c70.js"><link rel="prefetch" href="/assets/js/8.22705928.js"><link rel="prefetch" href="/assets/js/9.44fd09d3.js">
    <link rel="stylesheet" href="/assets/css/styles.1700d348.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      素妆技术博客
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/dreamerldq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/dreamerldq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><a href="/" class="sidebar-link">Home</a></li><li><a href="/webpack.html" class="sidebar-link">webpack-react-ts配置</a></li><li><a href="/githubpage.html" class="sidebar-link">github page 部署</a></li><li><a href="/iconfont.html" class="sidebar-link">文字图标的使用</a></li><li><a href="/miniPrograme.html" class="sidebar-link">小程序开发总结</a></li><li><a href="/redux.html" class="sidebar-link">Redux源码解析</a></li><li><a href="/wixinqr.html" class="sidebar-link">微信小程序二维码生成</a></li><li><a href="/webpack-vue.html" class="sidebar-link">webpack-vue多页面配置</a></li><li><a href="/egg.html" class="sidebar-link">egg框架</a></li><li><a href="/eslint.html" class="sidebar-link">微信小程序eslint配置</a></li><li><a href="/H5_Video.html" class="sidebar-link">H5录制视频</a></li><li><a href="/minicanvas.html" class="sidebar-link">微信小程序canvas生成图片转base64</a></li><li><a href="/webaudio.html" class="sidebar-link">web audio api 绘制频率图</a></li><li><a href="/globalNotice.html" class="sidebar-link">React全局通知组件的实现</a></li><li><a href="/cssinjs.html" class="sidebar-link">css in js在React中的使用</a></li><li><a href="/React.cloneElement.html" class="sidebar-link">React.cloneElement实现单选框组</a></li><li><a href="/mobile.html" class="sidebar-link">移动端适配（H5 and RN）</a></li><li><a href="/Nginx.html" class="sidebar-link">Nginx配置</a></li><li><a href="/browserCache.html" class="sidebar-link">浏览器缓存机制</a></li></ul></div><div class="page"><div class="content"><h1 id="canvas的使用"><a href="#canvas的使用" aria-hidden="true" class="header-anchor">#</a> Canvas的使用</h1><h2 id="绘制柱状图表"><a href="#绘制柱状图表" aria-hidden="true" class="header-anchor">#</a> 绘制柱状图表</h2><div class="language- extra-class"><pre class="language-text"><code>var data = [ 16, 68, 20, 30, 54 ]; 模拟数据

var canvas = document.getElementById('canvas') 获取当前界面的canvas元素
let c = canvas.getContext('2d'); 使用getContent方法来创建canvas画板
c.fillStyle = 'gray' 为画板填充灰色
c.fillRect(0,0,500,500)设置画板的大小  参数依次是： 左边距、上边距、长、高

在使用fillReact后，一个canvas画板就渲染完成，然后接下来所有的更改都不会影响这个画板的显示（比如： 填充色变化等）

c.fillStyle = &quot;blue&quot;; 
for(var i=0; i&lt;data.length; i++) { 
    var dp = data[i]; 
    // c.fillRect(25 + i*100, 30, 50, dp*5); 以左边距25位起始位置，每个元素之间相隔100，上边距为30，长为50 高度用数值来确定
    c.fillRect(25 + i*100, 500-dp*5 - 30 , 50, dp*5); 
} 
这样5条蓝色的条状图就渲染完成
c.fillStyle = &quot;black&quot;; 
c.lineWidth = 2.0; 设置线的宽度为2
c.beginPath(); 开始绘制线
c.moveTo(30,10); 
c.lineTo(30,460); 
c.lineTo(490,460); 
c.stroke(); 填充路径
c.fillStyle = &quot;black&quot;; 
for(var i=0; i&lt;6; i++) { 
    c.fillText((5-i)*20 + &quot;&quot;,4, i*80+60); 填充文字  文字内容为index*20， 左边距是4，上边距是index*80 +60
    c.beginPath(); 
    c.moveTo(25,i*80+60); 绘制刻度线
    c.lineTo(30,i*80+60); 
    c.stroke(); 
} 
var labels = [&quot;JAN&quot;,&quot;FEB&quot;,&quot;MAR&quot;,&quot;APR&quot;,&quot;MAY&quot;]; 
//draw horiz text 
for(var i=0; i&lt;5; i++) { 
    c.fillText(labels[i], 50+ i*100, 475); 绘制x轴
} 
</code></pre></div><h2 id="绘制饼图"><a href="#绘制饼图" aria-hidden="true" class="header-anchor">#</a> 绘制饼图</h2><div class="language- extra-class"><pre class="language-text"><code>&lt;html&gt; 
&lt;body&gt; 
&lt;canvas width=&quot;500&quot; height=&quot;500&quot; id=&quot;canvas&quot;&gt;&lt;/canvas&gt; 
&lt;script&gt; 
//initialize data set 
var data = [ 100, 68, 20, 30, 100 ]; 
 
var canvas = document.getElementById('canvas'); 
var c = canvas.getContext('2d'); 
//draw background 
c.fillStyle = &quot;white&quot;; 
c.fillRect(0,0,500,500); 
 //a list of colors 
var colors = [ &quot;orange&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;teal&quot;]; 
 
 //calculate total of all data 
 var total = 0; 
 for(var i=0; i&lt;data.length; i++) { 
     total += data[i]; 
 } 
 //draw pie data 
var prevAngle = 0; 
for(var i=0; i&lt;data.length; i++) { 
    //fraction that this pieslice represents 
    var fraction = data[i]/total; 
    //calc starting angle 
    var angle = prevAngle + fraction*Math.PI*2; 
     
    //draw the pie slice 
    c.fillStyle = colors[i]; 
     
    //create a path 
    c.beginPath(); 
    c.moveTo(250,250); 
    c.arc(250,250, 100, prevAngle, angle, false); 
    c.lineTo(250,250); 
     
    //fill it 
    c.fill(); 
     
    //stroke it 
    c.strokeStyle = &quot;black&quot;; 
    c.stroke(); 
     
    //update for next time through the loop 
    prevAngle = angle; 
    //draw centered text 
c.fillStyle = &quot;black&quot;; 
c.font = &quot;24pt sans-serif&quot;; 
var text = &quot;Sales Data from 2025&quot;; 
var metrics = c.measureText(text); 
c.fillText(text, 250-metrics.width/2, 400); 
} 
&lt;/script&gt; 
&lt;/body&gt; 
&lt;/html&gt; 
</code></pre></div></div><div class="page-edit"><!----><!----></div><!----></div></div></div>
    <script src="/assets/js/app.1700d348.js" defer></script><script src="/assets/js/6.6aff7983.js" defer></script>
  </body>
</html>
